<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trainer Verification</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Elegant, readable fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root{
      --bg: #0a0b0f;
      --panel: #0f1218;
      --text: #e8eef6;
      --muted: #98a3b3;
      --accent: #33a6ff;
      --accent-2: #71c3ff;
      --shadow: 0 12px 40px rgba(0,0,0,.55);
      --radius: 18px;
    }
    * { box-sizing: border-box; }
    html, body { height:100%; margin:0; }
    body{
      background:
        radial-gradient(1200px 600px at 50% -200px, rgba(51,166,255,.05), transparent 60%),
        radial-gradient(1200px 600px at 50% 120%, rgba(51,166,255,.06), transparent 60%),
        var(--bg);
      color: var(--text);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Robot, "Helvetica Neue", Arial;
      display:grid; place-items:center;
      padding: 28px 18px 40px;
    }
    .shell{
      width:min(680px, 94vw);
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)) ;
      border: 1px solid rgba(255,255,255,.06);
      border-radius: var(--radius);
      padding: clamp(18px, 3.6vw, 28px);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      isolation: isolate;
    }
    .shell::before{
      content:""; position:absolute; inset:-2px;
      border-radius: inherit; z-index:-1;
      background: radial-gradient(60% 80% at 50% 0% , rgba(51,166,255,.25), transparent 60%);
      filter: blur(28px);
    }

    header { text-align:center; margin-top: 4px; }
    .title{
      font-family: Orbitron, Inter, system-ui; letter-spacing: .5px;
      font-size: clamp(22px, 3.8vw, 34px);
      font-weight: 700;
      margin: 0 0 8px;
      text-shadow: 0 0 16px rgba(51,166,255,.25);
    }
    .subtitle{
      color: var(--muted);
      margin: 0 0 22px;
      font-size: clamp(13px, 2.8vw, 15px);
      letter-spacing: .2px;
    }

    .hero{
      display:flex; flex-direction:column; align-items:center; gap:14px;
      margin: 8px 0 18px;
    }
    .pokeball{
      width: clamp(120px, 35vw, 180px);
      filter: drop-shadow(0 18px 30px rgba(0,0,0,.55));
      animation: float 3.2s ease-in-out infinite;
    }
    @keyframes float { 0%,100%{ transform: translateY(0)} 50%{ transform: translateY(-8px)} }

    .callout{
      display:flex; align-items:center; gap:10px; justify-content:center;
      color: var(--muted);
      font-weight: 600; letter-spacing:.3px;
    }
    .zap{ width:18px; height:18px; display:inline-block; filter: drop-shadow(0 0 8px rgba(255,230,0,.35)); }

    .verify{
      margin: 14px auto 8px;
      width: 100%;
      display:flex; justify-content:center;
    }
    .verify-inner{
      position: relative;
      display:flex; align-items:center; gap:12px;
      width:100%;
      max-width:560px;
      min-width:280px;
      min-height:64px;
      background: linear-gradient(180deg, #0a0d12, #0c1117);
      border: 2px solid var(--accent);
      border-radius: 12px;
      padding: 12px 16px 12px 14px;
      box-shadow:
        0 0 0 2px rgba(51,166,255,.18),
        0 0 24px rgba(51,166,255,.35),
        inset 0 0 20px rgba(51,166,255,.08);
      margin: 0 auto;
    }
    .tick{
      width:24px; height:24px; border:2px solid var(--accent-2); border-radius:6px;
      display:grid; place-items:center; flex:0 0 auto;
      box-shadow: inset 0 0 8px rgba(51,166,255,.25);
    }
    .tick svg{ opacity:0; transform: scale(.6); transition: .16s ease; }
    .label{ font-size: 16px; font-weight: 600; letter-spacing:.2px; }

    .confirm{
      display:none; 
      margin:14px auto 0;
      width:100%;
      max-width:560px;
      min-width:280px;
      min-height:64px;              /* match verify-inner */
      background: linear-gradient(180deg, #0f1620, #0a0f16);
      border:2px solid var(--accent);
      color: var(--text);
      border-radius:12px;
      font-weight:700; letter-spacing:.3px;
      font-size:16px;               /* match label size */
      padding: 12px 16px;           /* same padding as verify-inner */
      box-shadow:
        0 0 0 2px rgba(51,166,255,.18),
        0 0 24px rgba(51,166,255,.35),
        inset 0 0 20px rgba(51,166,255,.08);
      cursor:pointer;
      display:flex; 
      justify-content:center; 
      align-items:center;           /* centers text vertically */
    }
    .confirm:active{ transform: scale(.99); }

    .hint{ text-align:center; color:var(--muted); font-size:12px; margin-top:10px; }
    .ok{ color:#4cd27b; }

    @media (max-width:380px){
      .verify-inner{ min-height: 56px; }
      .confirm{ min-height:56px; }
      .label{ font-size:15px; }
    }
  </style>
</head>
<body>
  <div class="shell">
    <header>
      <h1 class="title">Trainer Verification</h1>
      <p class="subtitle">Prove you‚Äôre human to continue your hunt.</p>
    </header>

    <section class="hero">
      <img src="https://i.ibb.co/NgKkPQv8/pokeball.png" alt="Pok√©ball" class="pokeball" />
      <div class="callout">
        <svg class="zap" viewBox="0 0 24 24" fill="#ffe600"><path d="M13 2 3 14h7l-1 8 10-12h-7l1-8z"/></svg>
        <span>Hey Trainer ‚Äî Get Verified </span>
        <svg class="zap" viewBox="0 0 24 24" fill="#ffe600"><path d="M13 2 3 14h7l-1 8 10-12h-7l1-8z"/></svg>
      </div>
    </section>

    <div class="verify">
      <div class="verify-inner" id="verifyBox" role="button" aria-pressed="false" tabindex="0">
        <div class="tick" id="tick">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#7fe6ff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 6 9 17 4 12"></path>
          </svg>
        </div>
        <div class="label">ùóú'ùó∫ ùóªùóºùòÅ ùóÆ ùó•ùóºùóØùóºùòÅ ! </div>
      </div>
    </div>

    <button class="confirm" id="confirmBtn">Confirm</button>
    <p class="hint" id="hint">HeXa Player Verification System.</p>
  </div>

  <script>
    const tg = window.Telegram?.WebApp;
    try {
      tg?.expand();
      tg?.setBackgroundColor('#0a0b0f');
      tg?.setHeaderColor('secondary');
      tg?.MainButton?.hide?.();
    } catch(_) {}

    const box = document.getElementById('verifyBox');
    const tick = document.querySelector('.tick svg');
    const hint = document.getElementById('hint');
    const confirmBtn = document.getElementById('confirmBtn');

    let checked = false;

    function paint(){
      tick.style.opacity = checked ? '1' : '0';
      tick.style.transform = checked ? 'scale(1)' : 'scale(.6)';
      box.setAttribute('aria-pressed', checked ? 'true' : 'false');
      confirmBtn.style.display = checked ? 'flex' : 'none';
      hint.innerHTML = checked ? '<span class="ok">Ready. Tap Confirm or close to continue.</span>' : 'HeXa Player Verification System';
    }

    function verify(){
      checked = !checked;
      paint();
    }

    box.addEventListener('click', verify);
    box.addEventListener('keydown', (e)=>{ if(e.key === ' ' || e.key === 'Enter'){ e.preventDefault(); verify(); }});

    function sendResult(){
      const payload = { ok: true, action: 'verify', ts: Date.now(), initData: tg?.initData || null };
      try {
        tg?.sendData(JSON.stringify(payload));
        tg?.close();
      } catch (e){
        confirmBtn.textContent = 'Verified ‚úî';
      }
    }

    confirmBtn.addEventListener('click', sendResult);
    box.addEventListener('dblclick', ()=>{ if(checked) sendResult(); });
  </script>
</body>
</html>